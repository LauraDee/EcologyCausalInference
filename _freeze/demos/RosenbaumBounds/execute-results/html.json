{
  "hash": "1f337d01c67633920dd8ae57a74fa499",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Rosenbaum Bounds Sensitivity Analysis in Ecology\"\nauthor: \"Your Name\"\ndate: \"2025-03-28\"\noutput: html_document\n---\n\n\n\n\n\n\n## Introduction\n\nThis document demonstrates how to perform **Rosenbaum Bounds Sensitivity Analysis** using R, applied to an ecological study assessing the impact of deforestation on bird species richness.\n\n## Load Required Libraries\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install packages if not already installed\nif (!require(MatchIt)) install.packages(\"MatchIt\", dependencies = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: MatchIt\n```\n\n\n:::\n\n```{.r .cell-code}\nif (!require(rbounds)) install.packages(\"rbounds\", dependencies = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: rbounds\n```\n\n\n:::\n\n```{.r .cell-code}\n# Load the libraries\nlibrary(MatchIt)\nlibrary(rbounds)\n```\n:::\n\n\n\n\n## Simulate Ecological Data\n\nWe create a dataset where bird species richness is compared between deforested and non-deforested sites while controlling for elevation and precipitation.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\ndata <- data.frame(\n  deforestation = rep(c(1, 0), each = 50),\n  species_richness = c(rnorm(50, mean = 10, sd = 3), rnorm(50, mean = 15, sd = 3)),\n  elevation = rnorm(100, mean = 500, sd = 100),\n  precipitation = rnorm(100, mean = 1000, sd = 200)\n)\n```\n:::\n\n\n\n\n## Perform Propensity Score Matching\n\nWe match deforested and non-deforested sites based on elevation and precipitation.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmatch_model <- matchit(deforestation ~ elevation + precipitation, data = data, method = \"nearest\")\nmatched_data <- match.data(match_model)\n```\n:::\n\n\n\n\n## Conduct Sensitivity Analysis with Rosenbaum Bounds\n\nWe check how sensitive our results are to hidden bias.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extract matched treatment and control outcomes\ntreated_outcomes <- matched_data$species_richness[matched_data$deforestation == 1]\ncontrol_outcomes <- matched_data$species_richness[matched_data$deforestation == 0]\n\n# Perform Rosenbaum sensitivity analysis\npsens(x = treated_outcomes, y = control_outcomes, Gamma = 1.5)  # Adjust Gamma to test sensitivity\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n Rosenbaum Sensitivity Test for Wilcoxon Signed Rank P-Value \n \nUnconfounded estimate ....  1 \n\n Gamma Lower bound Upper bound\n     1           1           1\n\n Note: Gamma is Odds of Differential Assignment To\n Treatment Due to Unobserved Factors \n \n```\n\n\n:::\n:::\n\n\n\n\n## Interpretation of Results\n\n- If the p-value remains small at **Γ = 1.5**, our conclusions are robust to moderate hidden bias.\n- If the p-value becomes insignificant at lower values of **Γ**, our study is highly sensitive to hidden confounders.\n\n## Conclusion\n\nRosenbaum bounds allow us to assess the robustness of our ecological study results against unmeasured confounding. This is particularly useful when controlled experiments are infeasible.\n\n### Take Aways\n\nRosenbaum bounds provide a way to assess how much an unmeasured confounder could influence the causal relationship between deforestation and bird species richness. In ecological studies, where controlled experiments are often impractical, this method helps gauge the reliability of observational findings.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}